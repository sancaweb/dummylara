{"version":3,"sources":["webpack:///./resources/js/pages/profile.js"],"names":["$","on","input","review","linkFoto","files","reader","FileReader","onload","e","attr","target","result","readAsDataURL","readURL","this","preventDefault","Swal","fire","imageUrl","base_url","imageHeight","showConfirmButton","title","allowOutsideClick","formData","FormData","url","ajax","type","data","contentType","processData","dataType","success","icon","meta","message","timer","then","user","location","reload","error","jqXHR","textStatus","errorThrown","responseJSON","errorValidator","errors","li","each","key","value","html","footer"],"mappings":"AAGAA,GAAE,WAGEA,EAAE,cAAcC,GAAG,UAAU,YAM7B,SAAiBC,EAAOC,EAAQC,GAE5B,GAAIF,EAAMG,OAASH,EAAMG,MAAM,GAAI,CAC/B,IAAIC,EAAS,IAAIC,WAEjBD,EAAOE,OAAS,SAAUC,GACtBT,EAAE,IAAMG,GAAQO,KAAK,MAAOD,EAAEE,OAAOC,QACrCZ,EAAE,IAAMI,GAAUM,KAAK,OAAQD,EAAEE,OAAOC,SAI5CN,EAAOO,cAAcX,EAAMG,MAAM,KAdrCS,CAAQC,KAFK,cACE,eAoBnBf,EAAE,gBAAgBC,GAAG,UAAU,SAAUQ,GACrCA,EAAEO,iBACFC,KAAKC,KAAK,CACNC,SAAUC,SAAW,sBACrBC,YAAa,IACbC,mBAAmB,EACnBC,MAAO,cACPC,mBAAmB,IAEvB,IAAIC,EAAW,IAAIC,SAAS1B,EAAE,gBAAgB,IAC1C2B,EAAM3B,EAAE,gBAAgBU,KAAK,UACjCV,EAAE4B,KAAK,CACHD,IAAKA,EACLE,KAAM,OACNC,KAAML,EACNM,aAAa,EACbC,aAAa,EACbC,SAAU,OACVC,QAAS,SAAUJ,GAEfb,KAAKC,KAAK,CACNiB,KAAM,UACNZ,MAAOO,EAAKM,KAAKC,QACjBf,mBAAmB,EACnBgB,MAAO,IACPd,mBAAmB,IACpBe,MAAK,WACWT,EAAKA,KAAKU,KACzBC,SAASC,aAejBC,MAAO,SAAUC,EAAOC,EAAYC,GAChC,GAAIF,EAAMG,aAAajB,KAAKkB,eAAgB,CACxC,IAAIC,EAASL,EAAMG,aAAajB,KAAKkB,eACjCX,EAAUO,EAAMG,aAAaV,QAC7Ba,EAAK,GACTlD,EAAEmD,KAAKF,GAAQ,SAAUG,EAAKC,GAE1BH,GAAM,OAASG,EAAQ,WAG3BpC,KAAKC,KAAK,CACNiB,KAAM,QACNZ,MAAOc,EACPiB,KAAM,8DACOJ,EADP,cAGNK,OAAQ,gDACR/B,mBAAmB,EACnBF,mBAAmB,QAGpB,CACCe,EAAUO,EAAMG,aAAaX,KAAKC,QAAtC,IACIP,EAAOc,EAAMG,aAAajB,KAE9Bb,KAAKC,KAAK,CACNiB,KAAM,QACNZ,MAAOc,EAAU,0CACjBiB,KAAM,oFAC6BjB,EAD7B,0BAEaP,EAAKa,MAFlB,aAINnB,mBAAmB,EACnBF,mBAAmB","file":"/js/pages/profile.js","sourcesContent":["// $(function () {\n//     'use strict'\n\n$(function () {\n    'user strict'\n\n    $('#inputFoto').on(\"change\", function () {\n        var review = 'imageReview';\n        var linkFoto = 'linkFoto';\n        readURL(this, review, linkFoto);\n    });\n\n    function readURL(input, review, linkFoto) {\n\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n                $('#' + review).attr('src', e.target.result);\n                $('#' + linkFoto).attr('href', e.target.result);\n\n            }\n\n            reader.readAsDataURL(input.files[0]); // convert to base64 string\n        }\n    }\n\n\n    $(\"#formProfile\").on(\"submit\", function (e) {\n        e.preventDefault();\n        Swal.fire({\n            imageUrl: base_url + \"/images/loading.gif\",\n            imageHeight: 300,\n            showConfirmButton: false,\n            title: \"Loading ...\",\n            allowOutsideClick: false\n        });\n        var formData = new FormData($(\"#formProfile\")[0]);\n        var url = $(\"#formProfile\").attr(\"action\");\n        $.ajax({\n            url: url,\n            type: \"POST\",\n            data: formData,\n            contentType: false,\n            processData: false,\n            dataType: \"JSON\",\n            success: function (data) {\n\n                Swal.fire({\n                    icon: \"success\",\n                    title: data.meta.message,\n                    showConfirmButton: false,\n                    timer: 2000,\n                    allowOutsideClick: false\n                }).then(function () {\n                    var dataUser = data.data.user;\n                    location.reload();\n\n                    // var self = data.data.self;\n\n                    // if (self == true) {\n                    //     $('#userImageSide').attr('src', base_url + '/storage/' + dataUser.foto);\n                    //     $('#userNameSide').html(dataUser.name);\n                    // }\n\n                    // refreshTable();\n\n                    // closeForm();\n\n                });\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                if (jqXHR.responseJSON.data.errorValidator) {\n                    var errors = jqXHR.responseJSON.data.errorValidator;\n                    var message = jqXHR.responseJSON.message;\n                    var li = '';\n                    $.each(errors, function (key, value) {\n\n                        li += \"<li>\" + value + \"</li>\"\n                    });\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title: message,\n                        html: '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            '<ul>' + li + '</ul>' +\n                            '</div>',\n                        footer: \"Pastikan data yang anda masukkan sudah benar!\",\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n\n                } else {\n                    var message = jqXHR.responseJSON.meta.message;\n                    var data = jqXHR.responseJSON.data;\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title: message + \" <br>Copy error dan hubungi Programmer!\",\n                        html: '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            '<p>Error Message: <strong>' + message + '</strong></p>' +\n                            '<p>Error: ' + data.error + '</p>' +\n                            '</div>',\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n                }\n\n            }\n        });\n    });\n});\n"],"sourceRoot":""}
$((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"').attr("content")}}),$.fn.modal.Constructor.prototype._enforceFocus=function(){},tinymce.init({height:"1000",selector:"textarea#content",plugins:"advlist code table lists autolink link image charmap preview anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template",toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullscreen | forecolor backcolor emoticons | help",file_picker_callback:function(e,t,a){var i=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,r="/filemanager?editor="+a.fieldname;"image"==a.filetype?r+="&type=Images":r+="&type=Files",tinyMCE.activeEditor.windowManager.openUrl({url:r,title:"Filemanager",width:.8*i,height:.8*n,resizable:"yes",close_previous:"no",onMessage:function(t,a){e(a.content)}})}}),$("#categories").select2({theme:"bootstrap4",placeholder:"Select Category",allowClear:!0}),$("#inputFoto").filemanager("image"),$("#tags").select2({theme:"bootstrap4",minimumInputLength:3,multiple:!0,allowClear:!0,tags:!0,ajax:{url:base_url+"/ajax/post/tags",dataType:"json",quietMillis:100,data:function(e){return{search:e.term}},processResults:function(e,t){return{results:e}}}}).on("select2:select",(function(e){}));var e=$("#id_post").val(),t=$("#tags");$.ajax({type:"GET",url:base_url+"/ajax/post/"+e+"/select2tagbypost"}).then((function(e){var a;$.each(e,(function(e,i){a=new Option(i.text,i.id,!0,!0),t.append(a).trigger("change")})),t.trigger({type:"select2:select",params:{data:e}})}));var a=moment($("#inputPublishedDate").val(),["DD-MM-YYYY HH:mm:ss","YYYY-MM-DD HH:mm:ss"]);$("#published_date").datetimepicker({minDate:moment(a).format("YYYY-MM-DD HH:mm:ss"),sideBySide:!0,icons:{time:"far fa-clock",date:"far fa-calendar-alt"},date:a,format:"DD-MM-YYYY HH:mm:ss",useCurrent:!1}),$("#formPost").on("submit",(function(e){e.preventDefault(),Swal.fire({imageUrl:base_url+"/images/loading.gif",imageHeight:300,showConfirmButton:!1,title:"Loading ...",allowOutsideClick:!1});var t=new FormData($("#formPost")[0]),a=$("#formPost").attr("action");$.ajax({url:a,type:"POST",data:t,contentType:!1,processData:!1,dataType:"JSON",success:function(e){Swal.fire({icon:"success",title:e.meta.message,showConfirmButton:!1,timer:2e3,allowOutsideClick:!1}).then((function(){window.location.replace("/post")}))},error:function(e,t,a){if(e.responseJSON.data.errorValidator){var i=e.responseJSON.data.errorValidator,n=e.responseJSON.message,r="";$.each(i,(function(e,t){r+="<li>"+t+"</li>"})),Swal.fire({icon:"error",title:n,html:'<div class="alert alert-danger text-left" role="alert"><ul>'+r+"</ul></div>",footer:"Pastikan data yang anda masukkan sudah benar!",allowOutsideClick:!1,showConfirmButton:!0})}else{n=e.responseJSON.meta.message;var o=e.responseJSON.data;Swal.fire({icon:"error",title:n+" <br>Copy error dan hubungi Programmer!",html:'<div class="alert alert-danger text-left" role="alert"><p>Error Message: <strong>'+n+"</strong></p><p>Error: "+o.error+"</p></div>",allowOutsideClick:!1,showConfirmButton:!0})}}})}))}));
//# sourceMappingURL=editPost.js.map
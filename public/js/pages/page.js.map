{"version":3,"sources":["webpack:///./resources/js/pages/page.js"],"names":["$","ajaxSetup","headers","attr","fn","modal","Constructor","prototype","_enforceFocus","tablePages","DataTable","order","processing","serverSide","ajax","url","base_url","dataType","type","data","dataFilter","tglFilter","val","titleContentFilter","userFilter","statusFilter","error","jqXHR","textStatus","errorThrown","responseJSON","Swal","fire","icon","title","html","allowOutsideClick","showConfirmButton","then","refreshTable","message","errorLine","line","file","columns","columnDefs","orderable","targets","createdCell","td","cellData","rowData","row","col","addClass","search","draw","off","on","e","code","this","value","btnPageReload","document","getElementById","closeFilter","resetFilter","reset","setStartDate","Date","setEndDate","empty","append","addEventListener","show","backdrop","keyboard","daterangepicker","maxDate","moment","format","autoUpdateInput","locale","start","end","label","choosen_val","tinymce","init","height","selector","plugins","toolbar","file_picker_callback","callback","meta","x","window","innerWidth","documentElement","clientWidth","getElementsByTagName","y","innerHeight","clientHeight","cmsURL","fieldname","filetype","tinyMCE","activeEditor","windowManager","openUrl","width","resizable","close_previous","onMessage","api","content","filemanager","datetimepicker","minDate","sideBySide","defaultDate","icons","time","date","useCurrent","preventDefault","imageUrl","imageHeight","formData","FormData","contentType","processData","success","timer","location","replace","errorValidator","errors","li","each","key","footer","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","idPage","status","_method","close","errorInfo","urlDelete"],"mappings":"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","file":"/js/pages/page.js","sourcesContent":["$(function () {\n    $.ajaxSetup({\n        headers: {\n            \"X-CSRF-TOKEN\": $('meta[name=\"csrf-token\"').attr(\"content\"),\n        },\n    });\n    $.fn.modal.Constructor.prototype._enforceFocus = function () {};\n\n    var columnsTable = [\n        { data: \"no\" },\n        { data: \"title\" },\n        { data: \"page_created_by\" },\n        { data: \"published_date\" },\n        { data: \"status\" },\n        { data: \"action\" },\n    ];\n\n    var tablePages = $(\"#table-pages\").DataTable({\n        // \"searching\": false,\n        order: [[0, \"DESC\"]],\n        processing: true,\n        serverSide: true,\n        ajax: {\n            url: base_url + \"/page/datatable\",\n            dataType: \"json\",\n            type: \"POST\",\n            data: function (dataFilter) {\n                var tglFilter = $(\"#tglFilterField\").val();\n                var titleContentFilter = $(\"#titleContentFilter\").val();\n                var userFilter = $(\"#userFilter\").val();\n                var statusFilter = $(\"#statusFilter\").val();\n\n                dataFilter.tglFilter = tglFilter;\n                dataFilter.titleContentFilter = titleContentFilter;\n                dataFilter.userFilter = userFilter;\n                dataFilter.statusFilter = statusFilter;\n            },\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            if (jqXHR.responseJSON.data) {\n                var error = jqXHR.responseJSON.data.error;\n                Swal.fire({\n                    icon: \"error\",\n                    title: \" <br>Copy error dan hubungi Programmer!\",\n                    html:\n                        '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                        \"<p>Error Message: <strong>\" +\n                        error +\n                        \"</strong></p>\" +\n                        \"</div>\",\n                    allowOutsideClick: false,\n                    showConfirmButton: true,\n                }).then(function () {\n                    refreshTable();\n                });\n            } else {\n                var message = jqXHR.responseJSON.message;\n                var errorLine = jqXHR.responseJSON.line;\n                var file = jqXHR.responseJSON.file;\n                Swal.fire({\n                    icon: \"error\",\n                    title: \" <br>Copy error dan hubungi Programmer!\",\n                    html:\n                        '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                        \"<p>Error Message: <strong>\" +\n                        message +\n                        \"</strong></p>\" +\n                        \"<p>File: \" +\n                        file +\n                        \"</p>\" +\n                        \"<p>Line: \" +\n                        errorLine +\n                        \"</p>\" +\n                        \"</div>\",\n                    allowOutsideClick: false,\n                    showConfirmButton: true,\n                }).then(function () {\n                    refreshTable();\n                });\n            }\n        },\n\n        columns: columnsTable,\n        columnDefs: [\n            {\n                orderable: false,\n                targets: [0, 1, -1, -4],\n            },\n            {\n                targets: [-1],\n                createdCell: function (td, cellData, rowData, row, col) {\n                    $(td).addClass(\"text-center\");\n                },\n            },\n        ],\n    });\n    $(\"#table-pages_filter input\").off();\n    $(\"#table-pages_filter input\").on(\"keyup\", function (e) {\n        if (e.code == \"Enter\") {\n            tablePages.search(this.value).draw();\n        }\n    });\n\n    function refreshTable() {\n        tablePages.search(\"\").draw();\n    }\n\n    var btnPageReload = document.getElementById(\"btn-pageReload\");\n\n    if (btnPageReload) {\n        btnPageReload.addEventListener(\"click\", function () {\n            refreshTable();\n        });\n    }\n\n    /** ./end datatable */\n\n    /**FILTER\n     *\n     */\n\n    $(\"#btn-filter\").on(\"click\", function () {\n        $(\"#modalFilter\").modal({\n            show: true,\n            backdrop: \"static\",\n            keyboard: false, // to prevent closing with Esc button (if you want this too)\n        });\n    });\n\n    $(\".closeFilter\").on(\"click\", function () {\n        closeFilter();\n    });\n\n    function closeFilter() {\n        $(\"#modalFilter\").modal(\"hide\");\n    }\n\n    $(\"#tglFilter\").daterangepicker(\n        {\n            maxDate: moment().format(\"DD/MM/YYYY\"),\n            autoUpdateInput: false,\n            locale: {\n                format: \"DD/MM/YYYY\",\n            },\n        },\n        function (start, end, label) {\n            var choosen_val =\n                start.format(\"DD/MM/YYYY\") + \" - \" + end.format(\"DD/MM/YYYY\");\n            $(\"#tglFilterField\").val(choosen_val);\n        }\n    );\n\n    //reset\n    $(\"#btn-resetFilterReload\").on(\"click\", function () {\n        resetFilter();\n        refreshTable();\n    });\n    $(\"#resetFilter\").on(\"click\", function () {\n        resetFilter();\n    });\n\n    $(\"#btn-proFilter\").on(\"click\", function () {\n        tablePages.search(\"\").draw();\n        var title = $(this).data(\"pagetitle\");\n        $(\"#titlePage\")\n            .empty()\n            .append(\"Filtered \" + title);\n        closeFilter();\n    });\n\n    function resetFilter() {\n        $(\"#formFilter\")[0].reset();\n\n        $(\"#tglFilterField\").val(\"\");\n        $(\"#tglFilter\").data(\"daterangepicker\").setStartDate(new Date());\n        $(\"#tglFilter\").data(\"daterangepicker\").setEndDate(new Date());\n        var title = $(\"#resetFilter\").data(\"pagetitle\");\n        $(\"#titlePage\").empty().append(title);\n    }\n    /**\n     * ./END FILTER\n     */\n\n    tinymce.init({\n        height: \"1000\",\n        selector: \"textarea#content\", // Replace this CSS selector to match the placeholder element for TinyMCE\n        plugins:\n            \"advlist code table lists autolink link image charmap preview anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template\",\n\n        toolbar:\n            \"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | \" +\n            \"bullist numlist outdent indent | link image | print preview media fullscreen | \" +\n            \"forecolor backcolor emoticons | help\",\n        file_picker_callback: function (callback, value, meta) {\n            var x =\n                window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.getElementsByTagName(\"body\")[0].clientWidth;\n            var y =\n                window.innerHeight ||\n                document.documentElement.clientHeight ||\n                document.getElementsByTagName(\"body\")[0].clientHeight;\n\n            var cmsURL = \"/filemanager?editor=\" + meta.fieldname;\n            if (meta.filetype == \"image\") {\n                cmsURL = cmsURL + \"&type=Images\";\n            } else {\n                cmsURL = cmsURL + \"&type=Files\";\n            }\n\n            tinyMCE.activeEditor.windowManager.openUrl({\n                url: cmsURL,\n                title: \"Filemanager\",\n                width: x * 0.8,\n                height: y * 0.8,\n                resizable: \"yes\",\n                close_previous: \"no\",\n                onMessage: (api, message) => {\n                    callback(message.content);\n                },\n            });\n        },\n    });\n\n    $(\"#inputFoto\").filemanager(\"image\");\n\n    $(\"#published_date\").datetimepicker({\n        minDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        sideBySide: true,\n        defaultDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        icons: {\n            time: \"far fa-clock\",\n            date: \"far fa-calendar-alt\",\n        },\n        format: \"DD-MM-YYYY HH:mm:ss\",\n        useCurrent: false,\n    });\n\n    $(\"#formPage\").on(\"submit\", function (e) {\n        e.preventDefault();\n        Swal.fire({\n            imageUrl: base_url + \"/images/loading.gif\",\n            imageHeight: 300,\n            showConfirmButton: false,\n            title: \"Loading ...\",\n            allowOutsideClick: false,\n        });\n        var formData = new FormData($(\"#formPage\")[0]);\n        var url = $(\"#formPage\").attr(\"action\");\n        $.ajax({\n            url: url,\n            type: \"POST\",\n            data: formData,\n            contentType: false,\n            processData: false,\n            dataType: \"JSON\",\n            success: function (data) {\n                Swal.fire({\n                    icon: \"success\",\n                    title: data.meta.message,\n                    showConfirmButton: false,\n                    timer: 2000,\n                    allowOutsideClick: false,\n                }).then(function () {\n                    window.location.replace(\"/page\");\n                });\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                if (jqXHR.responseJSON.data.errorValidator) {\n                    var errors = jqXHR.responseJSON.data.errorValidator;\n                    var message = jqXHR.responseJSON.message;\n                    var li = \"\";\n                    $.each(errors, function (key, value) {\n                        li += \"<li>\" + value + \"</li>\";\n                    });\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title: message,\n                        html:\n                            '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            \"<ul>\" +\n                            li +\n                            \"</ul>\" +\n                            \"</div>\",\n                        footer: \"Pastikan data yang anda masukkan sudah benar!\",\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n                } else {\n                    var message = jqXHR.responseJSON.meta.message;\n                    var data = jqXHR.responseJSON.data;\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title:\n                            message + \" <br>Copy error dan hubungi Programmer!\",\n                        html:\n                            '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            \"<p>Error Message: <strong>\" +\n                            message +\n                            \"</strong></p>\" +\n                            \"<p>Error: \" +\n                            data.error +\n                            \"</p>\" +\n                            \"</div>\",\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n                }\n            },\n        });\n    });\n\n    //rubah status\n    $(\"#table-pages\").on(\"click\", \".btnStatus\", function () {\n        var title = $(this).data(\"title\");\n\n        Swal.fire({\n            title: \"Anda yakin?\",\n            text: \"Anda yakin ingin merubah Page dengan judul: \" + title + \"?\",\n            icon: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, change!\",\n            allowOutsideClick: false,\n        }).then((result) => {\n            if (result.value) {\n                Swal.fire({\n                    imageUrl: base_url + \"/images/loading.gif\",\n                    imageHeight: 300,\n                    showConfirmButton: false,\n                    title: \"Loading ...\",\n                    allowOutsideClick: false,\n                });\n\n                var idPage = $(this).data(\"id\");\n                var status = $(this).data(\"status\");\n\n                $.ajax({\n                    url: base_url + \"/ajax/page/status\",\n                    type: \"POST\",\n                    data: {\n                        idPage: idPage,\n                        status: status,\n                        _method: \"patch\",\n                    },\n                    // contentType: false,\n                    // processData: false,\n                    dataType: \"JSON\",\n                    success: function (data) {\n                        Swal.fire({\n                            icon: \"success\",\n                            title: data.meta.message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        }).then(function () {\n                            Swal.close();\n                            refreshTable();\n                        });\n                    },\n                    error: function (jqXHR, textStatus, errorThrown) {\n                        if (jqXHR.responseJSON.data) {\n                            var message = jqXHR.responseJSON.meta.message;\n                            var data = jqXHR.responseJSON.data;\n                            Swal.fire({\n                                icon: \"error\",\n                                title:\n                                    message +\n                                    \" <br>Copy error dan hubungi Programmer!\",\n                                html:\n                                    '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                                    \"<p>Error Message: <strong>\" +\n                                    data.message +\n                                    \"</strong></p>\" +\n                                    \"<p>Error: \" +\n                                    data.error.errorInfo +\n                                    \"</p>\" +\n                                    \"</div>\",\n                                allowOutsideClick: false,\n                            });\n                        } else {\n                            var errors = jqXHR.responseJSON.errors;\n                            var message = jqXHR.responseJSON.message;\n                            var li = \"\";\n                            $.each(errors, function (key, value) {\n                                li += \"<li>\" + value + \"</li>\";\n                            });\n                            Swal.fire({\n                                icon: \"error\",\n                                title: message,\n                                html:\n                                    '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                                    \"<ul>\" +\n                                    li +\n                                    \"</ul>\" +\n                                    \"</div>\",\n                                footer: \"Pastikan data yang anda masukkan sudah benar!\",\n                                allowOutsideClick: false,\n                            });\n                        }\n                    },\n                });\n            }\n        });\n    });\n    //./end rubah status\n\n    /**\n     * DELETE Page\n     */\n    $(\"#table-pages\").on(\"click\", \".btn-delete\", function () {\n        var title = $(this).data(\"title\");\n        Swal.fire({\n            title: \"Anda yakin?\",\n            text:\n                \"Anda yakin ingin menghapus Page dengan judul: \" + title + \"?\",\n            icon: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, delete it!\",\n            allowOutsideClick: false,\n        }).then((result) => {\n            if (result.value) {\n                Swal.fire({\n                    imageUrl: base_url + \"/images/loading.gif\",\n                    imageHeight: 300,\n                    showConfirmButton: false,\n                    title: \"Loading ...\",\n                    allowOutsideClick: false,\n                });\n\n                var idPage = $(this).data(\"id\");\n                var urlDelete = base_url + \"/page/\" + idPage + \"/delete\";\n                $.ajax({\n                    url: urlDelete,\n                    type: \"POST\",\n                    data: {\n                        _method: \"delete\",\n                    },\n                    dataType: \"JSON\",\n                    success: function (data) {\n                        Swal.fire({\n                            icon: \"success\",\n                            title: data.data.message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        }).then(function () {\n                            refreshTable();\n                        });\n                    },\n                    error: function (jqXHR, textStatus, errorThrown) {\n                        var error = jqXHR.responseJSON;\n\n                        if (error.meta) {\n                            var message = error.meta.message;\n                        } else {\n                            var message = error.message;\n                        }\n                        Swal.fire({\n                            icon: \"error\",\n                            title: message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        });\n                    },\n                });\n            }\n        });\n    });\n}); // ./end document\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./resources/js/pages/post.js"],"names":["$","ajaxSetup","headers","attr","fn","modal","Constructor","prototype","_enforceFocus","tablePosts","DataTable","order","processing","serverSide","ajax","url","base_url","dataType","type","data","dataFilter","tglFilter","val","titleContentFilter","catFilter","tagFilter","userFilter","statusFilter","error","jqXHR","textStatus","errorThrown","responseJSON","Swal","fire","icon","title","html","allowOutsideClick","showConfirmButton","then","refreshTable","message","errorLine","line","file","columns","columnDefs","orderable","targets","createdCell","td","cellData","rowData","row","col","addClass","search","draw","off","on","e","code","this","value","btnPostReload","document","getElementById","closeFilter","filterFunctions","select2","theme","minimumInputLength","placeholder","allowClear","quietMillis","params","term","processResults","results","res","resetFilter","reset","trigger","empty","setStartDate","Date","setEndDate","append","addEventListener","show","backdrop","keyboard","daterangepicker","maxDate","moment","format","autoUpdateInput","locale","start","end","label","choosen_val","tinymce","init","height","selector","plugins","toolbar","file_picker_callback","callback","meta","x","window","innerWidth","documentElement","clientWidth","getElementsByTagName","y","innerHeight","clientHeight","cmsURL","fieldname","filetype","tinyMCE","activeEditor","windowManager","openUrl","width","resizable","close_previous","onMessage","api","content","multiple","tags","filemanager","datetimepicker","minDate","sideBySide","defaultDate","icons","time","date","useCurrent","preventDefault","imageUrl","imageHeight","formData","FormData","contentType","processData","success","timer","location","replace","errorValidator","errors","li","each","key","footer","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","idPost","status","_method","close","errorInfo","urlDelete"],"mappings":"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","file":"/js/pages/post.js","sourcesContent":["$(function () {\n    $.ajaxSetup({\n        headers: {\n            \"X-CSRF-TOKEN\": $('meta[name=\"csrf-token\"').attr(\"content\"),\n        },\n    });\n    $.fn.modal.Constructor.prototype._enforceFocus = function () {};\n\n    var columnsTable = [\n        { data: \"no\" },\n        { data: \"title\" },\n        { data: \"post_created_by\" },\n        { data: \"category_name\" },\n        { data: \"tags\" },\n        { data: \"published_date\" },\n        { data: \"status\" },\n        { data: \"action\" },\n    ];\n\n    var tablePosts = $(\"#table-posts\").DataTable({\n        // \"searching\": false,\n        order: [[0, \"DESC\"]],\n        processing: true,\n        serverSide: true,\n        ajax: {\n            url: base_url + \"/post/datatable\",\n            dataType: \"json\",\n            type: \"POST\",\n            data: function (dataFilter) {\n                var tglFilter = $(\"#tglFilterField\").val();\n                var titleContentFilter = $(\"#titleContentFilter\").val();\n                var catFilter = $(\"#catFilter\").val();\n                var tagFilter = $(\"#tagFilter\").val();\n                var userFilter = $(\"#userFilter\").val();\n                var statusFilter = $(\"#statusFilter\").val();\n\n                dataFilter.tglFilter = tglFilter;\n                dataFilter.titleContentFilter = titleContentFilter;\n                dataFilter.catFilter = catFilter;\n                dataFilter.tagFilter = tagFilter;\n                dataFilter.userFilter = userFilter;\n                dataFilter.statusFilter = statusFilter;\n            },\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            if (jqXHR.responseJSON.data) {\n                var error = jqXHR.responseJSON.data.error;\n                Swal.fire({\n                    icon: \"error\",\n                    title: \" <br>Copy error dan hubungi Programmer!\",\n                    html:\n                        '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                        \"<p>Error Message: <strong>\" +\n                        error +\n                        \"</strong></p>\" +\n                        \"</div>\",\n                    allowOutsideClick: false,\n                    showConfirmButton: true,\n                }).then(function () {\n                    refreshTable();\n                });\n            } else {\n                var message = jqXHR.responseJSON.message;\n                var errorLine = jqXHR.responseJSON.line;\n                var file = jqXHR.responseJSON.file;\n                Swal.fire({\n                    icon: \"error\",\n                    title: \" <br>Copy error dan hubungi Programmer!\",\n                    html:\n                        '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                        \"<p>Error Message: <strong>\" +\n                        message +\n                        \"</strong></p>\" +\n                        \"<p>File: \" +\n                        file +\n                        \"</p>\" +\n                        \"<p>Line: \" +\n                        errorLine +\n                        \"</p>\" +\n                        \"</div>\",\n                    allowOutsideClick: false,\n                    showConfirmButton: true,\n                }).then(function () {\n                    refreshTable();\n                });\n            }\n        },\n\n        columns: columnsTable,\n        columnDefs: [\n            {\n                orderable: false,\n                targets: [0, 1, -1, -4],\n            },\n            {\n                targets: [-1],\n                createdCell: function (td, cellData, rowData, row, col) {\n                    $(td).addClass(\"text-center\");\n                },\n            },\n        ],\n    });\n    $(\"#table-posts_filter input\").off();\n    $(\"#table-posts_filter input\").on(\"keyup\", function (e) {\n        if (e.code == \"Enter\") {\n            tablePosts.search(this.value).draw();\n        }\n    });\n\n    function refreshTable() {\n        tablePosts.search(\"\").draw();\n    }\n\n    var btnPostReload = document.getElementById(\"btn-postReload\");\n\n    if (btnPostReload) {\n        btnPostReload.addEventListener(\"click\", function () {\n            refreshTable();\n        });\n    }\n\n    /** ./end datatable */\n\n    /**FILTER\n     *\n     */\n\n    $(\"#btn-filter\").on(\"click\", function () {\n        filterFunctions();\n        $(\"#modalFilter\").modal({\n            show: true,\n            backdrop: \"static\",\n            keyboard: false, // to prevent closing with Esc button (if you want this too)\n        });\n    });\n\n    $(\".closeFilter\").on(\"click\", function () {\n        closeFilter();\n    });\n\n    function closeFilter() {\n        $(\"#modalFilter\").modal(\"hide\");\n    }\n\n    $(\"#tglFilter\").daterangepicker(\n        {\n            maxDate: moment().format(\"DD/MM/YYYY\"),\n            autoUpdateInput: false,\n            locale: {\n                format: \"DD/MM/YYYY\",\n            },\n        },\n        function (start, end, label) {\n            var choosen_val =\n                start.format(\"DD/MM/YYYY\") + \" - \" + end.format(\"DD/MM/YYYY\");\n            $(\"#tglFilterField\").val(choosen_val);\n        }\n    );\n\n    function filterFunctions() {\n        $(\"#tagFilter\")\n            .select2({\n                theme: \"bootstrap4\",\n                minimumInputLength: 3,\n                placeholder: \"Pilih Tag\",\n                allowClear: true,\n                ajax: {\n                    url: base_url + \"/ajax/post/tags\",\n                    dataType: \"json\",\n                    quietMillis: 100,\n                    data: function (params) {\n                        return {\n                            search: params.term,\n                        };\n                    },\n                    processResults: function (data, params) {\n                        return { results: data };\n                    },\n                },\n            })\n            .on(\"select2:select\", function (res) {});\n    }\n\n    //reset\n    $(\"#btn-resetFilterReload\").on(\"click\", function () {\n        resetFilter();\n        refreshTable();\n    });\n    $(\"#resetFilter\").on(\"click\", function () {\n        resetFilter();\n    });\n\n    $(\"#btn-proFilter\").on(\"click\", function () {\n        tablePosts.search(\"\").draw();\n        var title = $(this).data(\"pagetitle\");\n        $(\"#titlePost\")\n            .empty()\n            .append(\"Filtered \" + title);\n        closeFilter();\n    });\n\n    function resetFilter() {\n        $(\"#formFilter\")[0].reset();\n        $(\"#catFilter\").val(\"\").trigger(\"change\");\n\n        $(\"#tagFilter\").empty();\n\n        filterFunctions();\n\n        $(\"#tglFilterField\").val(\"\");\n        $(\"#tglFilter\").data(\"daterangepicker\").setStartDate(new Date());\n        $(\"#tglFilter\").data(\"daterangepicker\").setEndDate(new Date());\n        var title = $(\"#resetFilter\").data(\"pagetitle\");\n        $(\"#titlePost\").empty().append(title);\n    }\n    /**\n     * ./END FILTER\n     */\n\n    tinymce.init({\n        height: \"1000\",\n        selector: \"textarea#content\", // Replace this CSS selector to match the placeholder element for TinyMCE\n        plugins:\n            \"advlist code table lists autolink link image charmap preview anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template\",\n\n        toolbar:\n            \"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | \" +\n            \"bullist numlist outdent indent | link image | print preview media fullscreen | \" +\n            \"forecolor backcolor emoticons | help\",\n        file_picker_callback: function (callback, value, meta) {\n            var x =\n                window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.getElementsByTagName(\"body\")[0].clientWidth;\n            var y =\n                window.innerHeight ||\n                document.documentElement.clientHeight ||\n                document.getElementsByTagName(\"body\")[0].clientHeight;\n\n            var cmsURL = \"/filemanager?editor=\" + meta.fieldname;\n            if (meta.filetype == \"image\") {\n                cmsURL = cmsURL + \"&type=Images\";\n            } else {\n                cmsURL = cmsURL + \"&type=Files\";\n            }\n\n            tinyMCE.activeEditor.windowManager.openUrl({\n                url: cmsURL,\n                title: \"Filemanager\",\n                width: x * 0.8,\n                height: y * 0.8,\n                resizable: \"yes\",\n                close_previous: \"no\",\n                onMessage: (api, message) => {\n                    callback(message.content);\n                },\n            });\n        },\n    });\n\n    $(\"#categories,#catFilter\").select2({\n        theme: \"bootstrap4\",\n        placeholder: \"Select Category\",\n        allowClear: true,\n    });\n\n    $(\"#tags\")\n        .select2({\n            theme: \"bootstrap4\",\n            minimumInputLength: 3,\n            multiple: true,\n            allowClear: true,\n            tags: true,\n            ajax: {\n                url: base_url + \"/ajax/post/tags\",\n                dataType: \"json\",\n                quietMillis: 100,\n                data: function (params) {\n                    return {\n                        search: params.term,\n                    };\n                },\n                processResults: function (data, params) {\n                    return { results: data };\n                },\n            },\n        })\n        .on(\"select2:select\", function (res) {});\n\n    $(\"#inputFoto\").filemanager(\"image\");\n\n    $(\"#published_date\").datetimepicker({\n        minDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        sideBySide: true,\n        defaultDate: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        icons: {\n            time: \"far fa-clock\",\n            date: \"far fa-calendar-alt\",\n        },\n        format: \"DD-MM-YYYY HH:mm:ss\",\n        useCurrent: true,\n    });\n\n    $(\"#formPost\").on(\"submit\", function (e) {\n        e.preventDefault();\n        Swal.fire({\n            imageUrl: base_url + \"/images/loading.gif\",\n            imageHeight: 300,\n            showConfirmButton: false,\n            title: \"Loading ...\",\n            allowOutsideClick: false,\n        });\n        var formData = new FormData($(\"#formPost\")[0]);\n        var url = $(\"#formPost\").attr(\"action\");\n        $.ajax({\n            url: url,\n            type: \"POST\",\n            data: formData,\n            contentType: false,\n            processData: false,\n            dataType: \"JSON\",\n            success: function (data) {\n                Swal.fire({\n                    icon: \"success\",\n                    title: data.meta.message,\n                    showConfirmButton: false,\n                    timer: 2000,\n                    allowOutsideClick: false,\n                }).then(function () {\n                    window.location.replace(\"/post\");\n                });\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                if (jqXHR.responseJSON.data.errorValidator) {\n                    var errors = jqXHR.responseJSON.data.errorValidator;\n                    var message = jqXHR.responseJSON.message;\n                    var li = \"\";\n                    $.each(errors, function (key, value) {\n                        li += \"<li>\" + value + \"</li>\";\n                    });\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title: message,\n                        html:\n                            '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            \"<ul>\" +\n                            li +\n                            \"</ul>\" +\n                            \"</div>\",\n                        footer: \"Pastikan data yang anda masukkan sudah benar!\",\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n                } else {\n                    var message = jqXHR.responseJSON.meta.message;\n                    var data = jqXHR.responseJSON.data;\n\n                    Swal.fire({\n                        icon: \"error\",\n                        title:\n                            message + \" <br>Copy error dan hubungi Programmer!\",\n                        html:\n                            '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                            \"<p>Error Message: <strong>\" +\n                            message +\n                            \"</strong></p>\" +\n                            \"<p>Error: \" +\n                            data.error +\n                            \"</p>\" +\n                            \"</div>\",\n                        allowOutsideClick: false,\n                        showConfirmButton: true,\n                    });\n                }\n            },\n        });\n    });\n\n    //rubah status\n    $(\"#table-posts\").on(\"click\", \".btnStatus\", function () {\n        var title = $(this).data(\"title\");\n\n        Swal.fire({\n            title: \"Anda yakin?\",\n            text: \"Anda yakin ingin merubah Post dengan judul: \" + title + \"?\",\n            icon: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, change!\",\n            allowOutsideClick: false,\n        }).then((result) => {\n            if (result.value) {\n                Swal.fire({\n                    imageUrl: base_url + \"/images/loading.gif\",\n                    imageHeight: 300,\n                    showConfirmButton: false,\n                    title: \"Loading ...\",\n                    allowOutsideClick: false,\n                });\n\n                var idPost = $(this).data(\"id\");\n                var status = $(this).data(\"status\");\n\n                $.ajax({\n                    url: base_url + \"/ajax/post/status\",\n                    type: \"POST\",\n                    data: {\n                        idPost: idPost,\n                        status: status,\n                        _method: \"patch\",\n                    },\n                    // contentType: false,\n                    // processData: false,\n                    dataType: \"JSON\",\n                    success: function (data) {\n                        Swal.fire({\n                            icon: \"success\",\n                            title: data.meta.message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        }).then(function () {\n                            Swal.close();\n                            refreshTable();\n                        });\n                    },\n                    error: function (jqXHR, textStatus, errorThrown) {\n                        if (jqXHR.responseJSON.data) {\n                            var message = jqXHR.responseJSON.meta.message;\n                            var data = jqXHR.responseJSON.data;\n                            Swal.fire({\n                                icon: \"error\",\n                                title:\n                                    message +\n                                    \" <br>Copy error dan hubungi Programmer!\",\n                                html:\n                                    '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                                    \"<p>Error Message: <strong>\" +\n                                    data.message +\n                                    \"</strong></p>\" +\n                                    \"<p>Error: \" +\n                                    data.error.errorInfo +\n                                    \"</p>\" +\n                                    \"</div>\",\n                                allowOutsideClick: false,\n                            });\n                        } else {\n                            var errors = jqXHR.responseJSON.errors;\n                            var message = jqXHR.responseJSON.message;\n                            var li = \"\";\n                            $.each(errors, function (key, value) {\n                                li += \"<li>\" + value + \"</li>\";\n                            });\n                            Swal.fire({\n                                icon: \"error\",\n                                title: message,\n                                html:\n                                    '<div class=\"alert alert-danger text-left\" role=\"alert\">' +\n                                    \"<ul>\" +\n                                    li +\n                                    \"</ul>\" +\n                                    \"</div>\",\n                                footer: \"Pastikan data yang anda masukkan sudah benar!\",\n                                allowOutsideClick: false,\n                            });\n                        }\n                    },\n                });\n            }\n        });\n    });\n    //./end rubah status\n\n    /**\n     * DELETE POST\n     */\n    $(\"#table-posts\").on(\"click\", \".btn-delete\", function () {\n        var title = $(this).data(\"title\");\n        Swal.fire({\n            title: \"Anda yakin?\",\n            text:\n                \"Anda yakin ingin menghapus Post dengan judul: \" + title + \"?\",\n            icon: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, delete it!\",\n            allowOutsideClick: false,\n        }).then((result) => {\n            if (result.value) {\n                Swal.fire({\n                    imageUrl: base_url + \"/images/loading.gif\",\n                    imageHeight: 300,\n                    showConfirmButton: false,\n                    title: \"Loading ...\",\n                    allowOutsideClick: false,\n                });\n\n                var idPost = $(this).data(\"id\");\n                var urlDelete = base_url + \"/post/\" + idPost + \"/delete\";\n                $.ajax({\n                    url: urlDelete,\n                    type: \"POST\",\n                    data: {\n                        _method: \"delete\",\n                    },\n                    dataType: \"JSON\",\n                    success: function (data) {\n                        Swal.fire({\n                            icon: \"success\",\n                            title: data.data.message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        }).then(function () {\n                            refreshTable();\n                        });\n                    },\n                    error: function (jqXHR, textStatus, errorThrown) {\n                        var error = jqXHR.responseJSON;\n\n                        if (error.meta) {\n                            var message = error.meta.message;\n                        } else {\n                            var message = error.message;\n                        }\n                        Swal.fire({\n                            icon: \"error\",\n                            title: message,\n                            showConfirmButton: false,\n                            timer: 2000,\n                            allowOutsideClick: false,\n                        });\n                    },\n                });\n            }\n        });\n    });\n}); // ./end document\n"],"sourceRoot":""}